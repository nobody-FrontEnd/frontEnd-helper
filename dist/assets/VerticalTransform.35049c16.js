import{d as y,y as f,H as T,r as p,n as V,an as _,c as d,w as h,J as k,u,o as i,j as F,a as w,cg as v,g as b,cd as g,_ as C}from"./index.fa3829f9.js";import{M as B}from"./MultiLineResult.eeac4e9b.js";const M={class:"VerticalTransform"},x=y({__name:"VerticalTransform",props:{transformFunc:{type:Function,default:o=>o},sampleData:{default:`A Free, Modern Toolbox
Built for Developers.
`},input:{default:""},layoutType:{default:"default"},backTransformFunc:null},setup(o){const t=o;f(()=>t.transformFunc,()=>{l()}),f(()=>t.backTransformFunc,()=>{m()}),f(()=>t.input,()=>{r.value=t.input,l()}),T(()=>{l()});const r=p(t.sampleData),n=p(""),s=V.exports.debounce(()=>{_.error("failed to convert data")},1e3);async function l(){let e=!0;try{n.value=await t.transformFunc(r.value)}catch(a){e=!1,s(),n.value="",console.warn(a)}e&&s.cancel()}async function m(){if(!t.backTransformFunc)return;let e=!0;try{const a=await t.backTransformFunc(n.value);r.value=a}catch(a){e=!1,s(),console.warn(a)}e&&s.cancel()}return(e,a)=>(i(),d(u(g),{"max-width":1280,class:k(o.layoutType)},{one:h(()=>[F("div",M,[w(u(v),{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=c=>r.value=c),title:e.$t("verticalTransform.input"),"select-all-on-mount":"",onChange:l},null,8,["modelValue","title"]),b(e.$slots,"default",{},void 0,!0),o.backTransformFunc?(i(),d(u(v),{key:1,title:e.$t("verticalTransform.output"),modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=c=>n.value=c),onChange:m,autofocus:!1},null,8,["title","modelValue"])):(i(),d(u(B),{key:0,class:"output-wrapper","result-desc":e.$t("verticalTransform.output"),result:n.value},null,8,["result-desc","result"]))])]),_:3},8,["class"]))}});const L=C(x,[["__scopeId","data-v-d463f69f"]]);export{L as V};
