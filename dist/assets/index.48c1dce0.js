import{d as L,q as z,r as n,H as F,c as P,w as o,u as l,o as U,j as C,a,E as G,co as H,R as Y,t as X,cd as Z,h as u,_ as j}from"./index.fa3829f9.js";import{M as R}from"./MultiLineResult.eeac4e9b.js";import{y as J}from"./openpgp.min.ac9ba9ff.js";const Q={class:"generator"},W={class:"generator-input"},$=L({__name:"index",setup(ee){const{t:e}=z(),g=n(!1),A=[{value:"rsa",label:e("pgp.generator.alg.rsa")},{value:"ecc",label:e("pgp.generator.alg.ecc")}],q=[{value:2048,label:e("pgp.generator.bits.b2k")},{value:4096,label:e("pgp.generator.bits.b4k")},{value:8192,label:e("pgp.generator.bits.b8k")}],M=[{value:0,label:e("pgp.generator.expiration.never")},{value:1,label:e("pgp.generator.expiration.y1")},{value:2,label:e("pgp.generator.expiration.y2")},{value:4,label:e("pgp.generator.expiration.y4")},{value:8,label:e("pgp.generator.expiration.y8")}],V="curve25519",B=60*60*24*365;F(()=>{d.value="he3",m.value="he3@example.com",E.value=A,s.value="rsa",I.value=q,_.value=4096,N.value=M,b.value=0,f.value="passphrase",k()});const d=n(""),m=n(""),h=n(""),s=n("rsa"),E=n([]),_=n(0),I=n([]),b=n(0),N=n([]),f=n(""),K=n(""),O=n("");function k(){g.value=!0,K.value="",O.value="",D(s.value,V,d.value,m.value,h.value,f.value,_.value,b.value*B).then(i=>{K.value=i.armoredPublicKey,O.value=i.armoredPrivateKey,g.value=!1})}async function D(i,t,v,p,c,S,T,y){const{privateKey:x,publicKey:w,revocationCertificate:r}=await J({type:i,curve:t,userIDs:[{name:v,email:p,comment:c}],passphrase:S,rsaBits:T,keyExpirationTime:y,format:"armored"});return{armoredPrivateKey:x,armoredPublicKey:w,revocationCertificate:r}}return(i,t)=>{const v=u("a-input"),p=u("a-form-item"),c=u("a-radio-group"),S=u("a-input-password"),T=u("a-form"),y=u("a-spin"),x=u("a-col"),w=u("a-row");return U(),P(l(Z),{"max-width":1280},{one:o(()=>[C("div",Q,[C("div",W,[a(T,{"label-col":{span:5},"wrapper-col":{span:16},size:"small"},{default:o(()=>[a(p,{label:l(e)("pgp.generator.label.username"),name:"username",rules:[{required:!0,message:l(e)("pgp.generator.prompt.username")}]},{default:o(()=>[a(v,{value:d.value,"onUpdate:value":t[0]||(t[0]=r=>d.value=r),placeholder:l(e)("pgp.generator.placeholder.username")},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),a(p,{label:l(e)("pgp.generator.label.email"),name:"email",rules:[{required:!0,message:l(e)("pgp.generator.prompt.email")}]},{default:o(()=>[a(v,{value:m.value,"onUpdate:value":t[1]||(t[1]=r=>m.value=r),placeholder:l(e)("pgp.generator.placeholder.email")},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),a(p,{label:l(e)("pgp.generator.label.comment"),name:"comment",rules:[{required:!1}]},{default:o(()=>[a(v,{value:h.value,"onUpdate:value":t[2]||(t[2]=r=>h.value=r),placeholder:l(e)("pgp.generator.placeholder.comment")},null,8,["value","placeholder"])]),_:1},8,["label"]),a(p,{label:l(e)("pgp.generator.label.algorithm")},{default:o(()=>[a(c,{value:s.value,"onUpdate:value":t[3]||(t[3]=r=>s.value=r),options:E.value,"option-type":"button"},null,8,["value","options"])]),_:1},8,["label"]),s.value==="rsa"?(U(),P(p,{key:0,label:l(e)("pgp.generator.label.bits")},{default:o(()=>[a(c,{value:_.value,"onUpdate:value":t[4]||(t[4]=r=>_.value=r),options:I.value},null,8,["value","options"])]),_:1},8,["label"])):G("",!0),a(p,{label:l(e)("pgp.generator.label.expiration")},{default:o(()=>[a(c,{value:b.value,"onUpdate:value":t[5]||(t[5]=r=>b.value=r),options:N.value},null,8,["value","options"])]),_:1},8,["label"]),a(p,{label:l(e)("pgp.generator.label.passphrase"),name:"passphrase",rules:[{required:!0,message:l(e)("pgp.generator.prompt.passphrase")}]},{default:o(()=>[a(S,{value:f.value,"onUpdate:value":t[6]||(t[6]=r=>f.value=r),placeholder:l(e)("pgp.generator.placeholder.passphrase")},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),a(p,{"wrapper-col":{offset:4,span:16}},{default:o(()=>[a(l(H),{type:"primary",onClick:k},{default:o(()=>[Y(X(l(e)("pgp.generator.generate")),1)]),_:1})]),_:1})]),_:1})]),a(w,{class:"generator-output",gutter:16},{default:o(()=>[a(x,{span:12},{default:o(()=>[a(y,{spinning:g.value},{default:o(()=>[a(l(R),{"result-desc":l(e)("pgp.generator.output.private"),result:O.value,class:"output"},null,8,["result-desc","result"])]),_:1},8,["spinning"])]),_:1}),a(x,{span:12},{default:o(()=>[a(y,{spinning:g.value},{default:o(()=>[a(l(R),{"result-desc":l(e)("pgp.generator.output.public"),result:K.value,class:"output"},null,8,["result-desc","result"])]),_:1},8,["spinning"])]),_:1})]),_:1})])]),_:1})}}});const oe=j($,[["__scopeId","data-v-5cd070e2"]]);export{oe as default};
