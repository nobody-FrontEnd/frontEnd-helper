import{d as M,o as g,b as I,j as p,t as d,a,u as R,e2 as H,_ as U,aa as P,r as y,v as k,y as E,c as x,w as o,h as r,an as $,R as u,e as T,F as W,M as _,p as q,k as G}from"./index.fa3829f9.js";import{L as J}from"./layout4.50af5d66.js";import{_ as Q}from"./multiImagePicker.vue_vue_type_script_setup_true_lang.df756f7c.js";const X={class:"wrap-box"},Y={style:{"text-align":"center"}},Z={style:{"text-align":"center"}},ee={class:"box"},te={class:"box",style:{"background-color":"var(--tag-color2)"}},ae=M({__name:"ImageMessage",props:{name:null,size:null,resize:null},setup(h){const l=h;return(m,c)=>(g(),I("div",X,[p("p",Y,d(l.name),1),p("div",Z,[p("span",ee,d(`${l.size.width} x ${l.size.height}`),1),a(R(H)),p("span",te,d(`${l.resize.width} x ${l.resize.height}`),1)])]))}});const oe=U(ae,[["__scopeId","data-v-3322d42f"]]),ie=h=>(q("data-v-0312a75d"),h=h(),G(),h),ne=ie(()=>p("br",null,null,-1)),se={style:{height:"80vh",overflow:"auto"}},re=M({__name:"index",setup(h){const{t:l}=P(),m=y("1"),c=y(!1),f=y(),t=k([]),e=k({height:1080,width:1920,radio:1,maintainAspectRatio:!0,percentage:100}),C=()=>{e.maintainAspectRatio&&(e.height=Math.floor(e.width/e.radio))},L=()=>{e.maintainAspectRatio&&(e.width=Math.floor(e.height*e.radio))};E(()=>e.percentage,()=>{if(!t.length){$.error(l("imageResizer.errorChoose"));return}e.width=Math.floor(t[0].width*e.percentage/100),e.height=Math.floor(t[0].height*e.percentage/100)});const A=()=>{if(!t.length){$.error(l("imageResizer.errorChoose"));return}if(c.value=!0,t.length===1)_.imageResize(t[0].path,e.width,e.height).then(s=>{_.handleDownload(URL.createObjectURL(s)),c.value=!1});else for(const s of t)_.imageResize(s.path,e.width,e.height).then(n=>{_.handleDownload(URL.createObjectURL(n)),c.value=!1})},S=()=>{t.length=0,t.push(...f.value.fileList),e.radio=t[0].width/t[0].height,e.maintainAspectRatio&&t.length===1&&(e.height=Math.floor(e.width/e.radio),e.width=Math.floor(e.height*e.radio))},B=()=>{t.length=0,t.push(...f.value.fileList),t.length&&(e.radio=t[0].width/t[0].height,e.maintainAspectRatio&&t.length===1&&(e.height=Math.floor(e.width/e.radio),e.width=Math.floor(e.height*e.radio)))};return(s,n)=>{const v=r("a-input-number"),w=r("a-form-item"),K=r("a-checkbox"),j=r("a-form"),z=r("a-tab-pane"),b=r("a-radio"),D=r("a-radio-group"),N=r("a-tabs"),O=r("a-button"),V=r("a-spin");return g(),x(V,{"wrapper-class-name":"wrap",spinning:c.value},{default:o(()=>[a(R(J),{"right-width":250},{one:o(()=>[a(R(Q),{ref_key:"multiImagePickerRef",ref:f,"pick-hook":S,"remove-hook":B},null,512),a(N,{activeKey:m.value,"onUpdate:activeKey":n[5]||(n[5]=i=>m.value=i)},{default:o(()=>[a(z,{key:"1",tab:s.$t("imageResizer.pixels")},{default:o(()=>[a(j,{layout:"horizontal"},{default:o(()=>[a(w,{label:s.$t("imageCrop.width")},{default:o(()=>[a(v,{value:e.width,"onUpdate:value":n[0]||(n[0]=i=>e.width=i),"addon-after":"px",onChange:C},null,8,["value"])]),_:1},8,["label"]),a(w,{label:s.$t("imageCrop.height")},{default:o(()=>[a(v,{value:e.height,"onUpdate:value":n[1]||(n[1]=i=>e.height=i),"addon-after":"px",onChange:L},null,8,["value"])]),_:1},8,["label"]),a(w,null,{default:o(()=>[a(K,{checked:e.maintainAspectRatio,"onUpdate:checked":n[2]||(n[2]=i=>e.maintainAspectRatio=i)},{default:o(()=>[u(d(s.$t("imageResizer.maintainAspectRatio")),1)]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1},8,["tab"]),a(z,{key:"2",style:{"margin-bottom":"20px"},tab:s.$t("imageResizer.percentage")},{default:o(()=>[a(D,{value:e.percentage,"onUpdate:value":n[3]||(n[3]=i=>e.percentage=i)},{default:o(()=>[a(b,{class:"radioStyle",value:75},{default:o(()=>[u(d(s.$t("imageResizer.smaller25")),1)]),_:1}),a(b,{class:"radioStyle",value:50},{default:o(()=>[u(d(s.$t("imageResizer.smaller50")),1)]),_:1}),a(b,{class:"radioStyle",value:25},{default:o(()=>[u(d(s.$t("imageResizer.smaller75")),1)]),_:1})]),_:1},8,["value"]),ne,a(v,{value:e.percentage,"onUpdate:value":n[4]||(n[4]=i=>e.percentage=i),style:{"margin-top":"15px"},min:1,max:1e4,"addon-after":"%"},null,8,["value"])]),_:1},8,["tab"])]),_:1},8,["activeKey"]),a(O,{type:"primary",onClick:A},{default:o(()=>[u(d(s.$t("imageResizer.resize")),1)]),_:1})]),two:o(()=>[p("div",se,[(g(!0),I(W,null,T(t,(i,F)=>(g(),x(oe,{key:F,name:i.name,size:{width:i.width,height:i.height},resize:{width:e.width,height:e.height}},null,8,["name","size","resize"]))),128))])]),_:1})]),_:1},8,["spinning"])}}});const pe=U(re,[["__scopeId","data-v-0312a75d"]]);export{pe as default};
