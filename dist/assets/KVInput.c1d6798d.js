import{d as H,q as K,r as m,y as M,an as T,dc as $,v as E,ai as G,H as J,o as y,b as k,a as n,w as l,j as V,u as w,dn as L,R as C,t as F,F as A,e as q,c as Q,ad as W,aQ as X,aR as Y,dp as Z,T as ee,E as N,cz as ae,cA as te,h as f,p as ne,k as oe,_ as se}from"./index.fa3829f9.js";const le=u=>{let c=0;if(typeof u!="object"||!u)return;const e=(x,h=1)=>{Object.values(x).forEach(p=>{typeof p=="object"&&p!==null&&e(p,h+1)}),c=Math.max(c,h)};return e(u),c},R=u=>(ne("data-v-12b62fe2"),u=u(),oe(),u),ue={style:{position:"relative"}},ce=C("KV"),de=C("JSON"),re={class:"title"},ie={style:{display:"flex"}},pe=R(()=>V("div",{class:"label"},"Key:",-1)),ve=R(()=>V("div",{class:"label"},"Value:",-1)),_e={key:1},fe=H({__name:"KVInput",props:{modelValue:null,defaultRow:null,changeProps:null},emits:["update:modelValue","change"],setup(u,{emit:c}){const e=u;te(o=>({d599e380:p.value}));const{t:x}=K(),h=m(),p=m("200px"),g=m(!0);M(()=>g.value,o=>{var t;if(a.length>=3&&(p.value=`${((t=h.value)==null?void 0:t.clientHeight)+10}px`),o){c("change",a,...e.changeProps?e.changeProps:[]);let d;try{d=JSON.parse(v.value)}catch{T.error(x("KVInput.jsonFormat"))}if(le(d)===1){a.length=0;for(const[i,r]of Object.entries(d))a.push({key:i,value:r,index:Date.now()})}}else{const d=a.reduce((i,r)=>r.key?Object.assign(i,{[r.key]:r.value}):i,{});v.value=$(d,{maxLength:10})}});const a=E([{key:"admin",value:"true",index:Date.now()},{key:"user",value:"He3",index:Date.now()},{key:"exp",value:"1666865683",index:Date.now()}]),v=m(e.modelValue);M(()=>v.value,()=>{c("update:modelValue",v.value)});const I=m(-1);function b(){c("change",a,...e.changeProps?e.changeProps:[])}function z(o){const t=a.indexOf(o);t>-1&&(a.splice(t,1),c("change",a,...e.changeProps?e.changeProps:[]))}let O=1;function U(){a.push({key:`key${O}`,value:`value${O++}`,index:Date.now()}),c("change",a,...e.changeProps?e.changeProps:[])}function D(o){I.value=o}return G(()=>{if(e.defaultRow){a.length=0;for(const o of Object.entries(e.defaultRow)){const t={key:o[0],value:o[1],index:Date.now()};a.push(t)}}}),J(()=>{b()}),(o,t)=>{const d=f("a-radio-button"),i=f("a-radio-group"),r=f("a-button"),P=f("a-input"),j=f("a-col"),B=f("a-row");return y(),k("div",ue,[n(i,{value:g.value,"onUpdate:value":t[0]||(t[0]=s=>g.value=s),size:"small",style:{position:"absolute",right:"50px","z-index":"2"}},{default:l(()=>[n(d,{value:!0},{default:l(()=>[ce]),_:1}),n(d,{value:!1},{default:l(()=>[de]),_:1})]),_:1},8,["value"]),g.value?(y(),k("div",{key:0,ref_key:"kvRef",ref:h,class:"kvinput"},[V("div",re,[n(r,{class:"add",size:"small",onClick:U},{default:l(()=>[n(w(L)),C(" "+F(w(x)("jwtGenerator.add")),1)]),_:1})]),n(ee,{name:"anilist",tag:"div"},{default:l(()=>[(y(!0),k(A,null,q(a,(s,S)=>(y(),Q(B,{key:s.index,type:"flex",class:"row",onMouseenter:_=>D(S),onMouseleave:t[1]||(t[1]=_=>D(-1))},{default:l(()=>[n(j,{style:{width:"calc(100% - 40px)"}},{default:l(()=>[V("div",ie,[pe,n(P,{value:s.key,"onUpdate:value":_=>s.key=_,size:"small",placeholder:"key",style:{width:"calc(50%- 50px)"},onChange:b},null,8,["value","onUpdate:value"]),ve,n(P,{value:s.value,"onUpdate:value":_=>s.value=_,size:"small",placeholder:"key",style:{width:"calc(50%- 50px)"},onChange:b},null,8,["value","onUpdate:value"])])]),_:2},1024),n(j,{flex:"40px"},{default:l(()=>[n(W,{name:"fade"},{default:l(()=>[X(n(r,{size:"small",class:"delete",onClick:_=>z(s)},{default:l(()=>[n(w(Z))]),_:2},1032,["onClick"]),[[Y,I.value===S]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onMouseenter"]))),128))]),_:1})],512)):N("",!0),g.value?N("",!0):(y(),k("div",_e,[n(w(ae),{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=s=>v.value=s),"current-language":"JSON",lang:"JSON",theme:"GITHUB_LIGHT",class:"editor"},null,8,["modelValue"])]))])}}}),ge=se(fe,[["__scopeId","data-v-12b62fe2"]]);export{ge as K};
